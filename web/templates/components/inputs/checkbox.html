{% macro input_checkbox(id, text, callback = '') %}

<label class="flex items-center cursor-pointer">
    <div class="relative">
        <input type="checkbox" class="sr-only" id="{{ id }}">
        <div class="block bg-[#EEEEEE] w-14 h-8 rounded-full"></div>
        <div id="{{ id }}-dot" class="absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
    </div>
    <div class="ml-3 text-gray-700 font-medium">{{ text }}</div>
</label>

<script>
    const toggleSwitch{{ id }} = document.getElementById('{{ id }}');
    const dot{{ id }} = document.getElementById('{{ id }}-dot');

    toggleSwitch{{ id }}.addEventListener('change', function () {
        if (this.checked) {
            dot{{ id }}.classList.add('transform', 'translate-x-6');
            dot{{ id }}.classList.remove('bg-white');
            dot{{ id }}.classList.add('bg-blue-500');
        } else {
            dot{{ id }}.classList.remove('transform', 'translate-x-6', 'bg-blue-500');
            dot{{ id }}.classList.add('bg-white');
        }

        {{ callback | safe }}
    });
</script>

{% endmacro %}
